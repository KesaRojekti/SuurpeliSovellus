<html onload="getLippuData()">
<head>
  <meta charset=utf-8 />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Liput</title>
  <link rel="stylesheet" href="css/main.css">

    <!--include firebase-->
    <script src="https://www.gstatic.com/firebasejs/5.2.0/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.2.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.2.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.2.0/firebase-database.js"></script>
    

    <script>
      // Initialize Firebase
      var config = {
        apiKey: "AIzaSyBPCv10R9am_2_Qtq-XkBvGpF1woHQFTJI",
        authDomain: "suurpelisovellus.firebaseapp.com",
        databaseURL: "https://suurpelisovellus.firebaseio.com",
        projectId: "suurpelisovellus",
        storageBucket: "suurpelisovellus.appspot.com",
        messagingSenderId: "654290473334"
      };
      firebase.initializeApp(config);
    </script>

    <!--include firebase using scripts after the initialization-->
    <script
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDKT-fu4FeCH4iehwP2tJP6CpZfGokWXFc"></script>
    </script>
    <script src="./scripts/lippu-data.js"></script>
    <script src="./scripts/mapoverlay.js"></script>
    
    <script>

      var timeLeft = -1;
      var timeBeforePause = 0;
      var firstPress = true
      //check for auth changes
      function onAuthStateChanged(user){
        //take the user back to index.html if not logged in
        if(user === null){
          window.location.href="index.html";
        }
      }
      //check if you are logged in at page load
      window.addEventListener('load', function() {
        firebase.auth().onAuthStateChanged(onAuthStateChanged);
      }, false);

      function logout(){
        firebase.auth().signOut();
      }



    function navLiput(){
      window.location.href="flags.html";
    }

    function navNews(){
      window.location.href="news.html";
    }

    function navIndex(){
      window.location.href="index.html";
    }
    function navKello(){
      window.location.href="kello.html";
    }
 
    </script>
  </head>
  <body>
    <nav>
        <button class="navButton" onclick="navIndex()">Kirjautuminen</button>
        <button class="navButton" onclick="navKello()">Pelikello</button>
        <button class="navButton" onclick="navLiput()">Liput</button>
        <button class="navButton" onclick="navNews()">Uutiset</button>
    </nav>
    <main>
      

      <br><br>
      <button class="activateFlagButton" onclick="activateNextFlag()">Aktivoi seuraava</button>
      <button class="deactivateFlagButton" onclick="deactivateLastFlag()">Deaktivoi viimeinen</button>
      <button onclick="removeFlag()">Poista uusin lippu</button>
      <button onclick="clearFlags()">Poista kaikki</button>
      <div id="map"></div>
      <button value="Toggle visibility" onclick="overlay.toggle();">Toggle overlay</button>
      <button class="logoutButton" onclick="logout()">Kirjaudu ulos</button>
      <table id="lippuData"></table>
    </main>
  </body>
  </html>